var cpresumeRender={a:function(d){var a="";var b=d.prov;var c=d.obj;if(d.nolmt){a=d.noname;b="0"}else{a=d.provname+" - "+d.cityname}c.val(a);baseRender.b(c);c.data("prov",b);c.data("city",d.city)},b:function(c){var d="";var b=c.obj;if(c.majname!=""){d=" - "+c.majname}var a=c.cname+d+" - "+c.regname+" - "+c.provname;b.val(a);b.data("mid",c.maj);b.data("zid",c.zid);b.data("rid",c.reg);b.data("pid",c.prov);baseRender.b(b);cpresumeRender.e(b)},c:function(a){$(a).unbind("click");$(a).bind("click",function(){var f=$(this).parent().find("input.qual_select");$(this).parent().find("span.blue").remove();$(this).remove();var d=f.parent().parent().html();var b=f.parent().find("input.qual_select");var i=b.attr("id");var g=b.val();var c=i.substring(5);c=parseInt((c==""?0:c),10)+1;var h=i.substring(0,5)+c;d=d.replace(i,h).replace(g,"");d="<tr>"+d+"</tr>";f.parent().parent().after(d);var e=$("#"+h);if(c==1){e.after(COMMONTEMP.T0016)}e.parent().prev().find("span.red").remove();e.hgsSelect({id:"tqselect"+c,pid:"tqplace"+c,pshow:true,sprov:true,single:true,sure:cpresumeRender.b});cpresumeRender.d(e.parent().find("a.delqual"))})},d:function(a){$(a).unbind("click");$(a).bind("click",function(){var c=$(this).parent().parent().parent();var h=c.find("input.qual_select").length-1;var i=c.find("input.qual_select:eq("+h+")").attr("id");var j=$(this).parent().find("input.qual_select").attr("id");if(i==j){var e=COMMONTEMP.T0015;var f=$(this).parent().parent().parent().find("input.qual_select").length;if(f>2){e="<span class='blue'>| </span>"+e}var g=c.find("input.qual_select:eq("+(f-2)+")").parent();g.append(e);cpresumeRender.c(g.find("a.addqual"))}var b="#tqselect"+j.substring(5);var d="#tqplace"+j.substring(5);$(b).remove();$(d).remove();$(this).parent().parent().remove()})},e:function(d){var c=$(d);var a=c.parent().parent().parent().find("input.qual_select").length;var b=c.parent().parent().parent().find("a.addqual").length;if(a==1&&b==0){c.after(COMMONTEMP.T0015);this.c(c.parent().find("a.addqual"))}else{if(a>1&&b==0){c.parent().append("<span class='blue'>| </span>"+COMMONTEMP.T0015);this.c(c.parent().find("a.addqual"))}}},f:function(c){var a=c.jtlname+" - "+c.jtype+" - "+c.jtname;var b=c.jtlid+","+c.jtid;$("#tjtitle").val(a);$("#tjtitle").data("ids",b)},g:function(d){var a="";var b="";var c=d.obj;if(d.nolmt){a=d.noname;b="0"}else{a=d.provname;b=d.prov}c.val(a);baseRender.b(c);c.data("ids",b)},h:function(b){var a=$("div").data("obj");$(a).css("cursor","default");document.body.style.cursor="default";alert(LANGUAGE.L0118,"right","","",function(){location.href=WEBROOT+"/atm/1"})},i:function(a){alert(a.data)},j:function(){$("#expay").bind("change",function(){if($(this).val()==12){$(this).next("input.defpay").removeClass("hidden")}else{$(this).nextAll("div.tip").remove();$(this).next("input.defpay").addClass("hidden").removeClass("red_border");$(this).next("input.defpay").val("")}})}};

var CpresumeController={a:function(){$("#place").hgsSelect({type:"place",pid:"uplace",pshow:true,lishow:true,sprov:false,single:true,sure:cpresumeRender.a})},b:function(e,a){var c="";var d=true;var b=$(e).val().replace(new RegExp(" ","g"),"");if(b==""){c=a;d=false}if(!d){baseRender.a(e,c,"error",0)}else{baseRender.b(e)}},c:function(){$("#tqual").focus(function(){baseRender.b(this)}).blur(function(){CpresumeController.b(this,LANGUAGE.L0159)});$("#explace").focus(function(){baseRender.b(this)}).blur(function(){CpresumeController.b(this,LANGUAGE.L0160)})},d:function(){$("#tqual").hgsSelect({id:"tqselect",pid:"tqplace",pshow:true,sprov:true,single:true,sure:cpresumeRender.b})},e:function(){$("#tjtitle").hgsSelect({type:"jobtitle",tid:"tjtitles",sure:cpresumeRender.f})},f:function(){$("#explace").hgsSelect({type:"place",pid:"expplace",pshow:true,lishow:true,sprov:true,single:false,sure:cpresumeRender.g})},g:function(){$("#date").datepicker({showOn:"both",buttonImageOnly:true,yearRange:"1900:2012",buttonText:"点击选择日期",dateFormat:"yy-mm-dd",changeMonth:true,changeYear:true})},i:function(){$("#uname").focus(function(){baseRender.a(this,LANGUAGE.L0161,"right",0)}).blur(function(){var d=$(this).val().replace(new RegExp(" ","g"),"");$(this).val(d);var c="";var a=true;if(d==""){c=LANGUAGE.L0068;a=false}else{if(/[^\u4E00-\u9FA5]/.test(d)){c=LANGUAGE.L0061;a=false}else{if(d.length>6){c=LANGUAGE.L0234;a=false}}}if(!a){baseRender.a(this,c,"error",0)}else{baseRender.ai(this,20)}})},j:function(){$("#phone").focus(function(){baseRender.a(this,LANGUAGE.L0039,"right",0)}).blur(function(){var d=$(this).val().replace(new RegExp(" ","g"),"");$(this).val(d);var c="";var a=true;if(d==""){c=LANGUAGE.L0041;a=false}else{var e=baseRender.d(d);if(e==false){c=LANGUAGE.L0040;a=false}else{a=true;baseRender.ai(this,20)}}if(!a){baseRender.a(this,c,"error",0)}})},k:function(){$("#defpay").focus(function(){baseRender.a(this,LANGUAGE.L0163,"right",30)}).blur(function(){var b="";var c=true;var a=$(this).val().replace(new RegExp(" ","g"),"");if(a==""){b=LANGUAGE.L0164;c=false}else{if(!/(^(\-?)\d{1,5}\.\d{1,2}$)|(^(\-?)\d{1,5}$)/.test(a)){b=LANGUAGE.L0248;c=false}else{if(parseFloat(a,10)<0){b=LANGUAGE.L0166;c=false}}}if(c){baseRender.ai(this,50)}else{baseRender.a(this,b,"error",30)}})},l:function(){baseController.BtnBind("div.tmanage div.addtalents div.btn5","btn5","btn5_hov","btn5_click");baseController.BtnBind("div.tmanage div.addtalents div.btn8","btn8","btn8_hov","btn8_click");$("#pubresnow,#savebtn").click(function(){$("div").data("obj",$(this));var A="#uname,#phone,#place,#tqual,#explace";$(A).trigger("blur");if($("div.addtalents").find("div.tip").length==0){var t=["",""];if($("#tjtitle").data("ids")){t=$("#tjtitle").data("ids").split(",")}var O=$("#uname").val(),N=$("div.addtalents table.pinfo input[name='sex']:checked").val(),L=$("#date").val(),K=$("#place").data("prov"),J=$("#place").data("city"),I=$("#phone").val(),H=$("#uqq").val(),G=$("#uemail").val(),F=$("#uexp").val(),E="",C="",B="",z=t[1],y=t[0],x=$("#expay")[0].options[$("#expay")[0].selectedIndex].value,D=$("#defpay").val(),w=$("#explace").data("ids"),v=$(this).attr("type"),u=$("#add_des").val();var M=$("table.tb").not("table.pinfo").find("input.qual_select");if(x!=12){D=0}$.each(M,function(c,e){var b="";var a=$(e).data("mid");var d=$(e).data("zid");if(!!a){b=a}else{if(!!d){b=d}}if(c>0&&b!=""){E+=","+b;C+=","+$(e).data("rid");B+=","+$(e).data("pid")}else{if(c==0&&b!=""){E+=b;C+=$(e).data("rid");B+=$(e).data("pid")}}});$(this).css("cursor","wait");document.body.style.cursor="wait";var s=cpresumeRender;var P=new Resume();P.ACreatPResume(O,N,L,K,J,I,H,G,F,E,C,B,z,y,x,D,w,v,u,s.h,s.i)}})},m:function(){cpresumeRender.j()},IniPage:function(){baseRender.ae(1);this.a();this.c();this.d();this.e();this.f();this.g();this.i();this.j();this.k();this.l();this.m()}};$().ready(function(){if(typeof(PAGE)=="undefined"){PAGE=""}if(PAGE=="83"){CpresumeController.IniPage()}});
