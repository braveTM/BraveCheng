var inviteRender={b:function(b,a){$("div.msg").attr("id",b);$("#"+b).html(a)},c:function(){var a=$("div").data("obj");$(a).parent().prev().find("a").remove();$(a).parent().parent().find("input[id!='cop_link']").val("");alert("操作成功","","",3000)},d:function(a){alert(a.data)}};

var inviteController={a:function(){var a=inviteController;$("#em_cont").keydown(function(g){if(g.keyCode=="13"){var f=a.e(this);var h=$(this).val().replace(new RegExp(" ","g"),"");if(f!=false){var d=$("#plist").find("a").length;if(d=="10"){alert("最多可同时添加10个收件人")}else{if(d=="0"){a.c(h);$("#em_cont").val("")}else{var c=true;$.each($("#plist").find("a"),function(b,e){if(h==$(e).text().replace(new RegExp(" ","g"),"")){alert("邮箱地址重复");c=false;return false}});if(c){a.c(h);$("#em_cont").val("")}}}}}})},aa:function(){var a=inviteController;$("#ph_cont").keydown(function(g){if(g.keyCode=="13"){var f=a.ae(this);var h=$(this).val().replace(new RegExp(" ","g"),"");if(f!=false){var d=$("#clist").find("a").length;if(d=="10"){alert("最多可同时添加10个号码")}else{if(d=="0"){a.ac(h);$("#ph_cont").val("")}else{var c=true;$.each($("#clist").find("a"),function(b,e){if(h==$(e).text().replace(new RegExp(" ","g"),"")){alert("手机号码重复");c=false;return false}});if(c){a.ac(h);$("#ph_cont").val("")}}}}}})},b:function(){var a=inviteController;$("#email_invite").unbind("click").bind("click",function(){$("div").data("obj","#email_invite");var f=$("#em_cont").val(),e=true,d=$("#plist").find("a").length,g=$("input[name='em_list']").val();if(f==""){if(d=="0"){alert(LANGUAGE.L0002)}else{a.g(g)}}else{if(f!=""&&d=="0"){var h=inviteController.e($("#em_cont"));if(h==true){a.g(f)}}else{if(f!=""&&d!="0"){$("#em_cont").val("");a.g(g)}}}});$("#phone_invite").unbind("click").bind("click",function(){$("div").data("obj","#phone_invite");var f=$("#ph_cont").val(),e=true,d=$("#clist").find("a").length,g=$("input[name='phone_list']").val();if(f==""){if(d=="0"){alert(LANGUAGE.L0041)}else{a.ag(g)}}else{if(f!=""&&d=="0"){var h=inviteController.ae($("#ph_cont"));if(h==true){a.ag(f)}}else{if(f!=""&&d!="0"){$("#ph_cont").val("");a.ag(g)}}}})},c:function(c){var a="";a+='<a href="javascript:;" title="'+c+'">'+c+"</a>";$("#plist").append(a);var b=inviteController;b.f();b.d()},ac:function(c){var a="";a+='<a href="javascript:;" title="'+c+'">'+c+"</a>";$("#clist").append(a);var b=inviteController;b.af();b.ad()},d:function(){$("div.items a").unbind("click").bind("click",function(){var a=confirm("确定删除？");if(a==true){$(this).remove();inviteController.f()}})},ad:function(){$("div.items a").unbind("click").bind("click",function(){var a=confirm("确定删除？");if(a==true){$(this).remove();inviteController.af()}})},e:function(c){var e=$(c).val().replace(new RegExp(" ","g"),"");var a=true;var d="";if(e==""){d=LANGUAGE.L0002;a=false;alert(d)}else{if(!/\w{1,}[@][\w\-]{1,}([.]([\w\-]{1,})){1,3}$/.test(e)){d=LANGUAGE.L0003;a=false;alert(d)}else{a=true}}return a},ae:function(c){var e=$(c).val().replace(new RegExp(" ","g"),"");var a=true;var d="";if(e==""){d=LANGUAGE.L0041;a=false;alert(d)}else{var f=baseRender.d(e);if(f==false){d=LANGUAGE.L0040;a=false;alert(d)}else{a=true}}return a},f:function(){var b=$("#plist a");var a="";$.each(b,function(c,d){a+=$(d).text()+","});$("input[name='em_list']").val(a)},af:function(){var b=$("#clist a");var a="";$.each(b,function(c,d){a+=$(d).text()+","});$("input[name='phone_list']").val(a)},g:function(c){var b=inviteRender;var a=new Message();a.SendEmilInvitation(c,b.c,b.d)},ag:function(c){var b=inviteRender;var a=new Message();a.SendPhonelInvitation(c,b.c,b.d)},h:function(){baseController.BtnBind(".btn4","btn4","btn4_hov","btn4_click")},ab:function(){$("a#fast_invite").zclip({path:THEMEROOT+"lib/zeroclipboard/ZeroClipboard.swf",copy:function(){return $("#cop_link").val()}})},IniPage:function(){baseRender.ae(0);this.a();this.b();this.h();this.aa();this.ab()}};$().ready(function(){if(typeof(PAGE)=="undefined"){PAGE=""}if(PAGE=="7"){inviteController.IniPage()}});