var comloginRender={a:function(){baseController.BtnBind("#logbtn div.btn_common","regbtn","regbtn_hov")},b:function(a){window.location=a.data},c:function(a){var b=a;if(b.sup==1){alert(a.data,"",true,"",function(){window.location=WEBROOT+"/login/"})}else{alert(a.data)}}};

var comloginController={a:function(){that=comloginRender.a();if($("#uname").val()){$("#uname").next("span").fadeOut(1)}},aa:function(){$("#uname").focus(function(){$(this).css("border-color","#0171CA");$(this).removeClass("error");if($(this).next("span").length>0){$(this).next("span").remove()}if($("#upsd").val()!=""){if($("#auth").val()==""){if($("#auth").hasClass("error")){$("#err_msg").text(LANGUAGE.L0056)}else{$("#err_msg").text("")}}else{$("#err_msg").text("")}}else{if($("#upsd").hasClass("error")){$("#err_msg").text(LANGUAGE.L0010)}else{if($("#auth").hasClass("error")){$("#err_msg").text(LANGUAGE.L0056)}else{$("#err_msg").text("")}}}}).blur(function(){var c=$("#err_msg");var b=$(this).val().replace(new RegExp(" ","g"),"");if(b==""){$(this).css("border-color","#c00");$(this).addClass("error");var a=LANGUAGE.L0231;c.text(a)}else{$(this).val(b);$(this).css("border-color","#0171CA");if($("#upsd").val().replace(new RegExp(" ","g"),"")!=""){c.text("")}}});$("#upsd").focus(function(){$(this).css("border-color","#0171CA");$(this).removeClass("error");if($(this).next("span").length>0){$(this).next("span").remove()}if($("#uname").val()!=""){if($("#auth").hasClass("error")){$("#err_msg").text(LANGUAGE.L0056)}else{$("#err_msg").text("")}}else{if($("#uname").hasClass("error")){$("#err_msg").text(LANGUAGE.L0231)}else{if($("#auth").hasClass("error")){$("#err_msg").text(LANGUAGE.L0056)}else{$("#err_msg").text("")}}}}).blur(function(){var c=$("#err_msg");var b=$(this).val().replace(new RegExp(" ","g"),"");if(b==""){$(this).css("border-color","#c00");$(this).addClass("error");var a=LANGUAGE.L0010;c.text(a)}else{$(this).val(b);$(this).css("border-color","#0171CA");if($("#uname").val().replace(new RegExp(" ","g"),"")!=""){c.text("")}}});$("#auth").focus(function(){$(this).css("border-color","#0171CA");$(this).removeClass("error");if($(this).next("span").length>0){$(this).next("span").remove()}if($("#uname").val()!=""&&$("#upsd").val()!=""){$("#err_msg").text("")}}).blur(function(){var c=$("#err_msg");var b=$(this).val().replace(new RegExp(" ","g"),"");if(b==""){$(this).css("border-color","#c00");$(this).addClass("error");var a=LANGUAGE.L0056;c.text(a)}else{$(this).val(b);$(this).css("border-color","#0171CA");if($("#uname").val().replace(new RegExp(" ","g"),"")!=""){c.text("")}}})},d:function(){$("#login").click(function(){var f=$("#uname").val().replace(new RegExp(" ","g"),"");var c=$("#upsd").val().replace(new RegExp(" ","g"),"");var b=$("#auth").val().replace(new RegExp(" ","g"),"");if(f==""&&c==""&&b==""&&!$("#uname").hasClass("error")&&!$("#upsd").hasClass("error")&&$("#auth").hasClass("error")){$("#uname").focus().trigger("blur")}else{if(f==""){$("#uname").focus().trigger("blur")}else{if(c==""){$("#upsd").focus().trigger("blur")}else{if(b==""){$("#auth").focus().trigger("blur")}}}}if($(this).parent().parent().find("input.error").length==0){var g=0;if($("input[name='cache']").attr("checked")){g=1}var i=$("#uname").val();var e=$("#upsd").val();var a=$("#auth").val();var h=$(this).attr("ru");var d=comloginRender;comloginController.Login(g,i,e,a,d.b,d.c)}})},f:function(){$("div.login_box div.txt_cont span.tipmsg").click(function(){$(this).parent().find("input").trigger("focus")})},g:function(){$(document).keydown(function(a){var b=document.activeElement.id;if(a.keyCode==13&&(b=="uname"||b=="upsd"||b=="auth")){$("#login").trigger("click")}})},h:function(){$("#val_anoth,#img_anoth").click(function(){$("#img_anoth").attr("src",WEBROOT+"/lvcode?xy="+Math.random()+"")})},Login:function(g,c,b,f,e,a){var d={url:WEBURL.ComLogin,params:"uname="+c+"&pword="+b+"&verify="+f+"&rem="+g,sucrender:e,failrender:a};HGS.Base.HAjax(d)},IniPage:function(){this.a();this.d();this.f();this.g();this.h();this.aa()}};$().ready(function(){var a=comloginController;a.IniPage()});